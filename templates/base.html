<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}
    <meta charset="UTF-8">

    <link rel="stylesheet" href="{% static 'main.css' %}" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css">

    <title>
        {% block title %}
            Заголовок
        {% endblock title %}
    </title>
</head>

<body>
<nav style="--bs-breadcrumb-divider: ' ';" aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a type="button" class="btn btn btn-secondary" href="/">Главная</a>
        </li>

        {% if building %}
            <li class="breadcrumb-item btn-group btn-group">
                <a type="button" class="btn btn-secondary"
                   href="{{ building.get_absolute_url }}">{{ building.name }}</a>
                <button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split"
                        data-bs-toggle="dropdown" aria-expanded="false"></button>
                {% include 'dropdown_menu.html' with elements=buildings %}
            </li>

            {% if node %}
                <li class="breadcrumb-item btn-group btn-group">
                    <a type="button" class="btn btn-secondary"
                       href="{{ node.get_absolute_url }}">{{ node.name }}</a>
                    <button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown" aria-expanded="false"></button>
                    {% include 'dropdown_menu.html' with elements=nodes %}
                </li>

                {% if unit %}
                    <li class="breadcrumb-item btn-group btn-group">
                        <a type="button" class="btn btn-secondary"
                           href="{{ unit.get_absolute_url }}">{{ unit.name }}</a>
                        <button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split"
                                data-bs-toggle="dropdown" aria-expanded="false"></button>
                        {% include 'dropdown_menu.html' with elements=units %}
                    </li>
                {% else %}
                    <li class="breadcrumb-item">
                        <button type="button" class="btn btn btn-secondary dropdown-toggle dropdown-toggle-split"
                                data-bs-toggle="dropdown" aria-expanded="false">Выбор оборудования
                        </button>
                        {% include 'dropdown_menu.html' with elements=units %}
                    </li>
                {% endif %}

            {% else %}
                <li class="breadcrumb-item">
                    <button type="button" class="btn btn btn-secondary dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown" aria-expanded="false">Выбор участка
                    </button>
                    {% include 'dropdown_menu.html' with elements=nodes %}
                </li>
            {% endif %}

        {% else %}
            <li class="breadcrumb-item">
                <button type="button" class="btn btn btn-secondary dropdown-toggle dropdown-toggle-split"
                        data-bs-toggle="dropdown" aria-expanded="false">Выбор цеха
                </button>
                {% include 'dropdown_menu.html' with elements=buildings %}
            </li>
        {% endif %}
    </ol>
</nav>

{% block content %}
    Блок контента
{% endblock %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
